<div class="toolbar mat-primary">
  <div class="left-section">
    <button mat-icon-button (click)="toggleSidenav()">
      <mat-icon>menu</mat-icon>
    </button>
    <button mat-flat-button (click)="bookFileInput.click()">
      <mat-icon>add</mat-icon>
      Добавить
    </button>
    <button mat-icon-button [matMenuTriggerFor]="sortMenu">
      <mat-icon>sort</mat-icon>
    </button>
    <input
      #bookFileInput
      class="book-file-input"
      type="file"
      accept="application/pdf"
      (change)="onFileInputChange()"
    />
    <mat-menu #sortMenu>
      <mat-selection-list [multiple]="false">
        @for (option of SORT_OPTIONS; track $index) {
        <mat-list-option [value]="option.value">
          {{ option.name }}
        </mat-list-option>
        }
      </mat-selection-list>
    </mat-menu>
  </div>

  <div class="right-section">
    <mat-form-field appearance="outline" subscriptSizing="dynamic">
      <mat-label>Поиск</mat-label>
      <input matInput type="text" [formControl]="search" />
    </mat-form-field>
    <button mat-icon-button [matMenuTriggerFor]="additionalActionsMenu">
      <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #additionalActionsMenu>
      <button mat-menu-item (click)="signOut()">
        <mat-icon>logout</mat-icon>
        Выйти
      </button>
    </mat-menu>
  </div>
</div>
<mat-drawer-container class="main">
  <mat-drawer [(opened)]="isSidenavOpened">
    <mat-nav-list>
      <mat-list-item>Все книги</mat-list-item>
      <mat-list-item>Недавние</mat-list-item>
      <mat-list-item>По жанру</mat-list-item>
    </mat-nav-list>
  </mat-drawer>
  <mat-drawer-content>
    <app-book-list-view
      [books]="books()"
      (openItemEvent)="openBook($event)"
      (editItemEvent)="editBook($event)"
      (deleteItemEvent)="deleteBook($event)"
    >
      <app-loading-spinner-overlay
        [loading]="loading()"
      ></app-loading-spinner-overlay>
    </app-book-list-view>

    <div class="page-control-panel">
      <div class="page-navigation">
        <button
          mat-mini-fab
          [disabled]="pageNumber() <= 1"
          (click)="goToPrevPage()"
        >
          <mat-icon>navigate_before</mat-icon>
        </button>
        <span>Страница {{ pageNumber() }} / {{ pageCount() }}</span>
        <button
          mat-mini-fab
          [disabled]="pageNumber() >= pageCount()"
          (click)="goToNextPage()"
        >
          <mat-icon>navigate_next</mat-icon>
        </button>
      </div>
    </div>
  </mat-drawer-content>
</mat-drawer-container>
